<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Lab Setup on Hugo Relearn Theme</title><link>https://cks.ansilh.com/02-lab_setup/index.html</link><description>Recent content in Lab Setup on Hugo Relearn Theme</description><generator>Hugo -- gohugo.io</generator><language>en</language><atom:link href="https://cks.ansilh.com/02-lab_setup/index.xml" rel="self" type="application/rss+xml"/><item><title>Setting up VMs</title><link>https://cks.ansilh.com/02-lab_setup/01-os-installation/index.html</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cks.ansilh.com/02-lab_setup/01-os-installation/index.html</guid><description>In this chapter, we will import Ubuntu 24.04 OVA appliance to VirtualBox and will set it up.
Download Ubuntu OVA file cd ~/Downloads/ curl -LO https://cloud-images.ubuntu.com/noble/current/noble-server-cloudimg-amd64.ova Create a seed iso which is needed for setting initial password and login
Generate new SSH keys of not already done ssh-keygen Install cloud-utils sudo apt install cloud-utils Create config to set at intial-boot cat &amp;lt;&amp;lt;EOF &amp;gt; my-cloud-config.yaml #cloud-config chpasswd: list: | ubuntu:ubuntu expire: False ssh_pwauth: True ssh_authorized_keys: $(cat ${HOME}/.</description></item><item><title>Install containerd</title><link>https://cks.ansilh.com/02-lab_setup/02-install-containerd/index.html</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cks.ansilh.com/02-lab_setup/02-install-containerd/index.html</guid><description>In this chapter, we will install the container runtime
Install containerd
# Add Docker&amp;#39;s official GPG key: sudo apt-get update sudo apt-get install ca-certificates curl sudo install -m 0755 -d /etc/apt/keyrings sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc sudo chmod a+r /etc/apt/keyrings/docker.asc # Add the repository to Apt sources: echo \ &amp;#34;deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \ $(. /etc/os-release &amp;amp;&amp;amp; echo &amp;#34;${UBUNTU_CODENAME:-$VERSION_CODENAME}&amp;#34;) stable&amp;#34; | \ sudo tee /etc/apt/sources.list.d/docker.list &amp;gt; /dev/null sudo apt-get updatesudo apt-get install containerd.</description></item><item><title>Install and configure kubeadm and kubelet</title><link>https://cks.ansilh.com/02-lab_setup/03-install-tools/index.html</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cks.ansilh.com/02-lab_setup/03-install-tools/index.html</guid><description>In this chapter, we will install and configure kubeadm, kubelet and kubectl
These instructions are for Kubernetes v1.31.
Install curl
sudo apt-get update # apt-transport-https may be a dummy package; if so, you can skip that package sudo apt-get install -y apt-transport-https ca-certificates curl gpg Install keys needed for k8s packages
curl -fsSL https://pkgs.k8s.io/core:/stable:/v1.31/deb/Release.key | sudo gpg --dearmor -o /etc/apt/keyrings/kubernetes-apt-keyring.gpg Add the appropriate Kubernetes apt repository
# This overwrites any existing configuration in /etc/apt/sources.</description></item><item><title>Initialize Cluster</title><link>https://cks.ansilh.com/02-lab_setup/04-init-cluster/index.html</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cks.ansilh.com/02-lab_setup/04-init-cluster/index.html</guid><description>In this chapter, we will initialize the master node and then will add the worker to the cluster
Logon to the master node and follow along
Initialize kubeadm sudo kubeadm init --ignore-preflight-errors=NumCPU --pod-network-cidr 10.0.0.0/16Output:- I0205 22:31:24.915138 4255 version.go:261] remote version is much newer: v1.32.1; falling back to: stable-1.31 [init] Using Kubernetes version: v1.31.5 [preflight] Running pre-flight checks [preflight] Pulling images required for setting up a Kubernetes cluster [preflight] This might take a minute or two, depending on the speed of your internet connection [preflight] You can also perform this action beforehand using &amp;#39;kubeadm config images pull&amp;#39; W0205 22:31:25.</description></item><item><title>Install CNI - Cilium</title><link>https://cks.ansilh.com/02-lab_setup/05-setup-cni/index.html</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cks.ansilh.com/02-lab_setup/05-setup-cni/index.html</guid><description>In this chapter, we will deploy Cilium CNI
You need to execute these steps only from master node
Download the cilium CLI
CILIUM_CLI_VERSION=$(curl -s https://raw.githubusercontent.com/cilium/cilium-cli/main/stable.txt) CLI_ARCH=amd64 if [ &amp;#34;$(uname -m)&amp;#34; = &amp;#34;aarch64&amp;#34; ]; then CLI_ARCH=arm64; fi curl -L --fail --remote-name-all https://github.com/cilium/cilium-cli/releases/download/${CILIUM_CLI_VERSION}/cilium-linux-${CLI_ARCH}.tar.gz{,.sha256sum} sha256sum --check cilium-linux-${CLI_ARCH}.tar.gz.sha256sum sudo tar xzvfC cilium-linux-${CLI_ARCH}.tar.gz /usr/local/bin rm cilium-linux-${CLI_ARCH}.tar.gz{,.sha256sum} Deploy CNI
cilium install --version 1.17.0 Check the deployment status (It may take 10-15mins depends on your internet speed)</description></item></channel></rss>